services:
  - type: web
    name: wordpress
    env: docker
    plan: standard
    image:
      url: ghcr.io/wersplat/wordpress-nginx:latest
    envVars:
      - key: WORDPRESS_DATABASE_HOST
        value: mariadb
      - key: WORDPRESS_DATABASE_PORT_NUMBER
        value: 3306
      - key: WORDPRESS_DATABASE_USER
        sync: false # Set in Render dashboard
      - key: WORDPRESS_DATABASE_NAME
        sync: false # Set in Render dashboard
      - key: WORDPRESS_DATABASE_PASSWORD
        sync: false # Set in Render dashboard
    ports:
      - 8080 # Render will map this to a public URL
    # If your image is private, configure registry authentication in Render dashboard

  - type: private
    name: mariadb
    env: docker
    plan: standard
    image:
      url: ghcr.io/wersplat/mariadb:10.6
    envVars:
      - key: MARIADB_ROOT_PASSWORD
        sync: false # Set in Render dashboard
      - key: MARIADB_DATABASE
        sync: false # Set in Render dashboard
      - key: MARIADB_USER
        sync: false # Set in Render dashboard
      - key: MARIADB_PASSWORD
        sync: false # Set in Render dashboard
    # No public ports; only accessible by other Render services

# Note: Render does not support Docker volumes. For production, use managed databases for persistence.
# If your images are private, see: https://render.com/docs/private-docker-registry 
